{"ast":null,"code":"import _defineProperty from \"D:/map/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"D:/map/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useContext, useState } from 'react';\nimport { ConfigContext } from '../config-provider/context';\nimport Popover from '../popover';\nimport theme from '../theme';\nimport ColorPickerPanel from './ColorPickerPanel';\nimport ColorTrigger from './components/ColorTrigger';\nimport useColorState from './hooks/useColorState';\nimport useStyle from './style/index';\nimport { customizePrefixCls, generateColor } from './util';\nimport genPurePanel from '../_util/PurePanel';\nvar ColorPicker = function ColorPicker(props) {\n  var value = props.value,\n    defaultValue = props.defaultValue,\n    format = props.format,\n    _props$allowClear = props.allowClear,\n    allowClear = _props$allowClear === void 0 ? false : _props$allowClear,\n    presets = props.presets,\n    children = props.children,\n    _props$trigger = props.trigger,\n    trigger = _props$trigger === void 0 ? 'click' : _props$trigger,\n    open = props.open,\n    disabled = props.disabled,\n    _props$placement = props.placement,\n    placement = _props$placement === void 0 ? 'bottomLeft' : _props$placement,\n    _props$arrow = props.arrow,\n    arrow = _props$arrow === void 0 ? true : _props$arrow,\n    style = props.style,\n    className = props.className,\n    rootClassName = props.rootClassName,\n    styles = props.styles,\n    onFormatChange = props.onFormatChange,\n    onChange = props.onChange,\n    onOpenChange = props.onOpenChange,\n    getPopupContainer = props.getPopupContainer;\n  var _useContext = useContext(ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls,\n    direction = _useContext.direction;\n  var _theme$useToken = theme.useToken(),\n    token = _theme$useToken.token;\n  var _useColorState = useColorState(token.colorPrimary, {\n      value: value,\n      defaultValue: defaultValue\n    }),\n    _useColorState2 = _slicedToArray(_useColorState, 2),\n    colorValue = _useColorState2[0],\n    setColorValue = _useColorState2[1];\n  var _useMergedState = useMergedState(false, {\n      value: open,\n      postState: function postState(openData) {\n        return !disabled && openData;\n      },\n      onChange: onOpenChange\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    popupOpen = _useMergedState2[0],\n    setPopupOpen = _useMergedState2[1];\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    clearColor = _useState2[0],\n    setClearColor = _useState2[1];\n  var prefixCls = getPrefixCls('color-picker', customizePrefixCls);\n  var _useStyle = useStyle(prefixCls),\n    _useStyle2 = _slicedToArray(_useStyle, 2),\n    wrapSSR = _useStyle2[0],\n    hashId = _useStyle2[1];\n  var mergeRootCls = classNames(rootClassName, _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction));\n  var mergeCls = classNames(mergeRootCls, className, hashId);\n  var handleChange = function handleChange(data) {\n    var color = generateColor(data);\n    if (clearColor && color.toHsb().a > 0) {\n      setClearColor(false);\n    }\n    if (!value) {\n      setColorValue(color);\n    }\n    onChange === null || onChange === void 0 ? void 0 : onChange(color, color.toHexString());\n  };\n  var handleClear = function handleClear(clear) {\n    setClearColor(clear);\n  };\n  var popoverProps = {\n    open: popupOpen,\n    trigger: trigger,\n    placement: placement,\n    arrow: arrow,\n    rootClassName: rootClassName,\n    getPopupContainer: getPopupContainer\n  };\n  var colorBaseProps = {\n    prefixCls: prefixCls,\n    color: colorValue,\n    allowClear: allowClear,\n    clearColor: clearColor,\n    disabled: disabled,\n    presets: presets,\n    format: format,\n    onFormatChange: onFormatChange\n  };\n  return wrapSSR( /*#__PURE__*/React.createElement(Popover, Object.assign({\n    style: styles === null || styles === void 0 ? void 0 : styles.popup,\n    onOpenChange: setPopupOpen,\n    content: /*#__PURE__*/React.createElement(ColorPickerPanel, Object.assign({}, colorBaseProps, {\n      onChange: handleChange,\n      onClear: handleClear\n    })),\n    overlayClassName: prefixCls\n  }, popoverProps), children || /*#__PURE__*/React.createElement(ColorTrigger, {\n    open: popupOpen,\n    className: mergeCls,\n    style: style,\n    color: colorValue,\n    prefixCls: prefixCls,\n    clearColor: clearColor,\n    disabled: disabled\n  })));\n};\nif (process.env.NODE_ENV !== 'production') {\n  ColorPicker.displayName = 'ColorPicker';\n}\nvar PurePanel = genPurePanel(ColorPicker, 'color-picker', function (prefixCls) {\n  return prefixCls;\n});\nColorPicker._InternalPanelDoNotUseOrYouWillBeFired = PurePanel;\nexport default ColorPicker;","map":{"version":3,"names":["classNames","useMergedState","React","useContext","useState","ConfigContext","Popover","theme","ColorPickerPanel","ColorTrigger","useColorState","useStyle","customizePrefixCls","generateColor","genPurePanel","ColorPicker","props","value","defaultValue","format","_props$allowClear","allowClear","presets","children","_props$trigger","trigger","open","disabled","_props$placement","placement","_props$arrow","arrow","style","className","rootClassName","styles","onFormatChange","onChange","onOpenChange","getPopupContainer","_useContext","getPrefixCls","direction","_theme$useToken","useToken","token","_useColorState","colorPrimary","_useColorState2","_slicedToArray","colorValue","setColorValue","_useMergedState","postState","openData","_useMergedState2","popupOpen","setPopupOpen","_useState","_useState2","clearColor","setClearColor","prefixCls","_useStyle","_useStyle2","wrapSSR","hashId","mergeRootCls","_defineProperty","concat","mergeCls","handleChange","data","color","toHsb","a","toHexString","handleClear","clear","popoverProps","colorBaseProps","createElement","Object","assign","popup","content","onClear","overlayClassName","process","env","NODE_ENV","displayName","PurePanel","_InternalPanelDoNotUseOrYouWillBeFired"],"sources":["D:/map/node_modules/antd/es/color-picker/ColorPicker.js"],"sourcesContent":["import classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useContext, useState } from 'react';\nimport { ConfigContext } from '../config-provider/context';\nimport Popover from '../popover';\nimport theme from '../theme';\nimport ColorPickerPanel from './ColorPickerPanel';\nimport ColorTrigger from './components/ColorTrigger';\nimport useColorState from './hooks/useColorState';\nimport useStyle from './style/index';\nimport { customizePrefixCls, generateColor } from './util';\nimport genPurePanel from '../_util/PurePanel';\nconst ColorPicker = props => {\n  const {\n    value,\n    defaultValue,\n    format,\n    allowClear = false,\n    presets,\n    children,\n    trigger = 'click',\n    open,\n    disabled,\n    placement = 'bottomLeft',\n    arrow = true,\n    style,\n    className,\n    rootClassName,\n    styles,\n    onFormatChange,\n    onChange,\n    onOpenChange,\n    getPopupContainer\n  } = props;\n  const {\n    getPrefixCls,\n    direction\n  } = useContext(ConfigContext);\n  const {\n    token\n  } = theme.useToken();\n  const [colorValue, setColorValue] = useColorState(token.colorPrimary, {\n    value,\n    defaultValue\n  });\n  const [popupOpen, setPopupOpen] = useMergedState(false, {\n    value: open,\n    postState: openData => !disabled && openData,\n    onChange: onOpenChange\n  });\n  const [clearColor, setClearColor] = useState(false);\n  const prefixCls = getPrefixCls('color-picker', customizePrefixCls);\n  const [wrapSSR, hashId] = useStyle(prefixCls);\n  const mergeRootCls = classNames(rootClassName, {\n    [`${prefixCls}-rtl`]: direction\n  });\n  const mergeCls = classNames(mergeRootCls, className, hashId);\n  const handleChange = data => {\n    const color = generateColor(data);\n    if (clearColor && color.toHsb().a > 0) {\n      setClearColor(false);\n    }\n    if (!value) {\n      setColorValue(color);\n    }\n    onChange === null || onChange === void 0 ? void 0 : onChange(color, color.toHexString());\n  };\n  const handleClear = clear => {\n    setClearColor(clear);\n  };\n  const popoverProps = {\n    open: popupOpen,\n    trigger,\n    placement,\n    arrow,\n    rootClassName,\n    getPopupContainer\n  };\n  const colorBaseProps = {\n    prefixCls,\n    color: colorValue,\n    allowClear,\n    clearColor,\n    disabled,\n    presets,\n    format,\n    onFormatChange\n  };\n  return wrapSSR( /*#__PURE__*/React.createElement(Popover, Object.assign({\n    style: styles === null || styles === void 0 ? void 0 : styles.popup,\n    onOpenChange: setPopupOpen,\n    content: /*#__PURE__*/React.createElement(ColorPickerPanel, Object.assign({}, colorBaseProps, {\n      onChange: handleChange,\n      onClear: handleClear\n    })),\n    overlayClassName: prefixCls\n  }, popoverProps), children || /*#__PURE__*/React.createElement(ColorTrigger, {\n    open: popupOpen,\n    className: mergeCls,\n    style: style,\n    color: colorValue,\n    prefixCls: prefixCls,\n    clearColor: clearColor,\n    disabled: disabled\n  })));\n};\nif (process.env.NODE_ENV !== 'production') {\n  ColorPicker.displayName = 'ColorPicker';\n}\nconst PurePanel = genPurePanel(ColorPicker, 'color-picker', prefixCls => prefixCls);\nColorPicker._InternalPanelDoNotUseOrYouWillBeFired = PurePanel;\nexport default ColorPicker;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}