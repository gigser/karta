{"ast":null,"code":"import _defineProperty from \"D:/map/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"D:/map/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { ColorBlock } from '@rc-component/color-picker';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useMemo } from 'react';\nimport Collapse from '../../collapse';\nimport { useLocale } from '../../locale';\nimport { generateColor } from '../util';\nvar Panel = Collapse.Panel;\nvar genPresetColor = function genPresetColor(list) {\n  return list.map(function (value) {\n    value.colors = value.colors.map(generateColor);\n    return value;\n  });\n};\nvar isBright = function isBright(value) {\n  var _value$toRgb = value.toRgb(),\n    r = _value$toRgb.r,\n    g = _value$toRgb.g,\n    b = _value$toRgb.b,\n    a = _value$toRgb.a;\n  if (a <= 0.5) {\n    return true;\n  }\n  return r * 0.299 + g * 0.587 + b * 0.114 > 192;\n};\nvar ColorPresets = function ColorPresets(_ref) {\n  var prefixCls = _ref.prefixCls,\n    presets = _ref.presets,\n    color = _ref.value,\n    onChange = _ref.onChange;\n  var _useLocale = useLocale('ColorPicker'),\n    _useLocale2 = _slicedToArray(_useLocale, 1),\n    locale = _useLocale2[0];\n  var _useMergedState = useMergedState(genPresetColor(presets), {\n      value: genPresetColor(presets),\n      postState: genPresetColor\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 1),\n    presetsValue = _useMergedState2[0];\n  var colorPresetsPrefixCls = \"\".concat(prefixCls, \"-presets\");\n  var activeKeys = useMemo(function () {\n    return presetsValue.map(function (preset) {\n      return \"panel-\".concat(preset.label);\n    });\n  }, [presetsValue]);\n  var handleClick = function handleClick(colorValue) {\n    onChange === null || onChange === void 0 ? void 0 : onChange(colorValue);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: colorPresetsPrefixCls\n  }, /*#__PURE__*/React.createElement(Collapse, {\n    defaultActiveKey: activeKeys,\n    ghost: true\n  }, presetsValue.map(function (preset) {\n    var _a;\n    return /*#__PURE__*/React.createElement(Panel, {\n      header: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(colorPresetsPrefixCls, \"-label\")\n      }, preset === null || preset === void 0 ? void 0 : preset.label),\n      key: \"panel-\".concat(preset === null || preset === void 0 ? void 0 : preset.label)\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(colorPresetsPrefixCls, \"-items\")\n    }, Array.isArray(preset === null || preset === void 0 ? void 0 : preset.colors) && ((_a = preset.colors) === null || _a === void 0 ? void 0 : _a.length) > 0 ? preset.colors.map(function (presetColor) {\n      var _classNames;\n      return /*#__PURE__*/React.createElement(ColorBlock, {\n        key: \"preset-\".concat(presetColor.toHexString()),\n        color: generateColor(presetColor).toRgbString(),\n        prefixCls: prefixCls,\n        className: classNames(\"\".concat(colorPresetsPrefixCls, \"-color\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(colorPresetsPrefixCls, \"-color-checked\"), presetColor.toHexString() === (color === null || color === void 0 ? void 0 : color.toHexString())), _defineProperty(_classNames, \"\".concat(colorPresetsPrefixCls, \"-color-bright\"), isBright(presetColor)), _classNames)),\n        onClick: function onClick() {\n          return handleClick(presetColor);\n        }\n      });\n    }) : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(colorPresetsPrefixCls, \"-empty\")\n    }, locale.presetEmpty)));\n  })));\n};\nexport default ColorPresets;","map":{"version":3,"names":["ColorBlock","classNames","useMergedState","React","useMemo","Collapse","useLocale","generateColor","Panel","genPresetColor","list","map","value","colors","isBright","_value$toRgb","toRgb","r","g","b","a","ColorPresets","_ref","prefixCls","presets","color","onChange","_useLocale","_useLocale2","_slicedToArray","locale","_useMergedState","postState","_useMergedState2","presetsValue","colorPresetsPrefixCls","concat","activeKeys","preset","label","handleClick","colorValue","createElement","className","defaultActiveKey","ghost","_a","header","key","Array","isArray","length","presetColor","_classNames","toHexString","toRgbString","_defineProperty","onClick","presetEmpty"],"sources":["D:/map/node_modules/antd/es/color-picker/components/ColorPresets.js"],"sourcesContent":["import { ColorBlock } from '@rc-component/color-picker';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useMemo } from 'react';\nimport Collapse from '../../collapse';\nimport { useLocale } from '../../locale';\nimport { generateColor } from '../util';\nconst {\n  Panel\n} = Collapse;\nconst genPresetColor = list => list.map(value => {\n  value.colors = value.colors.map(generateColor);\n  return value;\n});\nconst isBright = value => {\n  const {\n    r,\n    g,\n    b,\n    a\n  } = value.toRgb();\n  if (a <= 0.5) {\n    return true;\n  }\n  return r * 0.299 + g * 0.587 + b * 0.114 > 192;\n};\nconst ColorPresets = _ref => {\n  let {\n    prefixCls,\n    presets,\n    value: color,\n    onChange\n  } = _ref;\n  const [locale] = useLocale('ColorPicker');\n  const [presetsValue] = useMergedState(genPresetColor(presets), {\n    value: genPresetColor(presets),\n    postState: genPresetColor\n  });\n  const colorPresetsPrefixCls = `${prefixCls}-presets`;\n  const activeKeys = useMemo(() => presetsValue.map(preset => `panel-${preset.label}`), [presetsValue]);\n  const handleClick = colorValue => {\n    onChange === null || onChange === void 0 ? void 0 : onChange(colorValue);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: colorPresetsPrefixCls\n  }, /*#__PURE__*/React.createElement(Collapse, {\n    defaultActiveKey: activeKeys,\n    ghost: true\n  }, presetsValue.map(preset => {\n    var _a;\n    return /*#__PURE__*/React.createElement(Panel, {\n      header: /*#__PURE__*/React.createElement(\"div\", {\n        className: `${colorPresetsPrefixCls}-label`\n      }, preset === null || preset === void 0 ? void 0 : preset.label),\n      key: `panel-${preset === null || preset === void 0 ? void 0 : preset.label}`\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `${colorPresetsPrefixCls}-items`\n    }, Array.isArray(preset === null || preset === void 0 ? void 0 : preset.colors) && ((_a = preset.colors) === null || _a === void 0 ? void 0 : _a.length) > 0 ? preset.colors.map(presetColor => /*#__PURE__*/React.createElement(ColorBlock, {\n      key: `preset-${presetColor.toHexString()}`,\n      color: generateColor(presetColor).toRgbString(),\n      prefixCls: prefixCls,\n      className: classNames(`${colorPresetsPrefixCls}-color`, {\n        [`${colorPresetsPrefixCls}-color-checked`]: presetColor.toHexString() === (color === null || color === void 0 ? void 0 : color.toHexString()),\n        [`${colorPresetsPrefixCls}-color-bright`]: isBright(presetColor)\n      }),\n      onClick: () => handleClick(presetColor)\n    })) : /*#__PURE__*/React.createElement(\"span\", {\n      className: `${colorPresetsPrefixCls}-empty`\n    }, locale.presetEmpty)));\n  })));\n};\nexport default ColorPresets;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}